"use strict";(self.webpackChunkFreshCartEcommerce=self.webpackChunkFreshCartEcommerce||[]).push([[829],{8829:(E,l,_)=>{_.r(l),_.d(l,{ForgetPasswordComponent:()=>I});var m=_(6814),s=_(95),e=_(4769),i=_(3582),u=_(1120);function g(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"Email Required"),e.qZA())}function d(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"invalid Email"),e.qZA())}function p(o,a){if(1&o&&(e.TgZ(0,"div",9),e.YNc(1,g,2,0,"p",10),e.YNc(2,d,2,0,"p",10),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.forgetPassword.get("email"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.forgetPassword.get("email"))?null:n.getError("email"))}}function c(o,a){if(1&o&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.userMsg)}}function f(o,a){if(1&o){const r=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.handleForgetPassword())}),e.TgZ(1,"label",4),e._uU(2,"Email :"),e.qZA(),e._UZ(3,"input",5),e.YNc(4,p,3,2,"div",6),e.TgZ(5,"button",7),e._uU(6,"Forget Password"),e.qZA(),e.YNc(7,c,2,1,"p",8),e.qZA()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.forgetPassword),e.xp6(4),e.Q6J("ngIf",((null==(t=r.forgetPassword.get("email"))?null:t.touched)||(null==(t=r.forgetPassword.get("email"))?null:t.value.length)>0)&&(null==(t=r.forgetPassword.get("email"))?null:t.errors)),e.xp6(3),e.Q6J("ngIf",r.userMsg)}}function w(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"Enter Code"),e.qZA())}function P(o,a){if(1&o&&(e.TgZ(0,"div",9),e.YNc(1,w,2,0,"p",10),e.qZA()),2&o){const r=e.oxw(2);let t;e.xp6(1),e.Q6J("ngIf",null==(t=r.resetCodeForm.get("resetCode"))?null:t.getError("required"))}}function x(o,a){if(1&o&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.userMsg)}}function C(o,a){if(1&o){const r=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.resetCode())}),e.TgZ(1,"label",12),e._uU(2,"Enter Code Sent :"),e.qZA(),e._UZ(3,"input",13),e.YNc(4,P,2,1,"div",6),e.TgZ(5,"button",7),e._uU(6,"Send"),e.qZA(),e.YNc(7,x,2,1,"p",8),e.qZA()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.resetCodeForm),e.xp6(4),e.Q6J("ngIf",((null==(t=r.resetCodeForm.get("resetCode"))?null:t.touched)||(null==(t=r.resetCodeForm.get("resetCode"))?null:t.value.length)>0)&&(null==(t=r.resetCodeForm.get("resetCode"))?null:t.errors)),e.xp6(3),e.Q6J("ngIf",r.userMsg)}}function F(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"Required"),e.qZA())}function h(o,a){1&o&&(e.TgZ(0,"p"),e._uU(1,"must be at least 6 characters"),e.qZA())}function Z(o,a){if(1&o&&(e.TgZ(0,"div",9),e.YNc(1,F,2,0,"p",10),e.YNc(2,h,2,0,"p",10),e.qZA()),2&o){const r=e.oxw(2);let t,n;e.xp6(1),e.Q6J("ngIf",null==(t=r.resetPasswordForm.get("newPassword"))?null:t.getError("required")),e.xp6(1),e.Q6J("ngIf",null==(n=r.resetPasswordForm.get("newPassword"))?null:n.getError("pattern"))}}function T(o,a){if(1&o&&(e.TgZ(0,"p",11),e._uU(1),e.qZA()),2&o){const r=e.oxw(2);e.xp6(1),e.Oqu(r.userMsg)}}function v(o,a){if(1&o){const r=e.EpF();e.TgZ(0,"form",3),e.NdJ("ngSubmit",function(){e.CHM(r);const n=e.oxw();return e.KtG(n.handleNewPassword())}),e.TgZ(1,"label",14),e._uU(2,"New Password :"),e.qZA(),e._UZ(3,"input",15),e.YNc(4,Z,3,2,"div",6),e.TgZ(5,"button",7),e._uU(6,"Submit"),e.qZA(),e.YNc(7,T,2,1,"p",8),e.qZA()}if(2&o){const r=e.oxw();let t;e.Q6J("formGroup",r.resetPasswordForm),e.xp6(4),e.Q6J("ngIf",((null==(t=r.resetPasswordForm.get("newPassword"))?null:t.touched)||(null==(t=r.resetPasswordForm.get("newPassword"))?null:t.value.length)>0)&&(null==(t=r.resetPasswordForm.get("newPassword"))?null:t.errors)),e.xp6(3),e.Q6J("ngIf",r.userMsg)}}let I=(()=>{class o{constructor(r,t){this._ForgetPasswordService=r,this._Router=t,this.step1=!0,this.step2=!1,this.step3=!1,this.email="",this.userMsg="",this.forgetPassword=new s.cw({email:new s.NI("",[s.kI.required,s.kI.email])}),this.resetCodeForm=new s.cw({resetCode:new s.NI("",[s.kI.required])}),this.resetPasswordForm=new s.cw({newPassword:new s.NI("",[s.kI.required,s.kI.pattern(/^\w{6,}$/)])})}handleForgetPassword(){let r=this.forgetPassword.value;this.email=r.email,this._ForgetPasswordService.forgetPassword(r).subscribe({next:t=>{this.userMsg=t.message,this.step1=!1,this.step2=!0},error:t=>{this.userMsg=t.error.message}})}resetCode(){this._ForgetPasswordService.resetCode(this.resetCodeForm.value).subscribe({next:t=>{this.userMsg=t.status,this.step2=!1,this.step3=!0},error:t=>{this.userMsg=t.error.message}})}handleNewPassword(){let r=this.resetPasswordForm.value;r.email=this.email,this._ForgetPasswordService.resetNewPassword(r).subscribe({next:t=>{t?.token&&(localStorage.setItem("etoken",t.token),this._Router.navigate(["/login"]))},error:t=>{this.userMsg=t.error.message}})}static#e=this.\u0275fac=function(t){return new(t||o)(e.Y36(i.e),e.Y36(u.F0))};static#t=this.\u0275cmp=e.Xpm({type:o,selectors:[["app-forget-password"]],standalone:!0,features:[e.jDz],decls:5,vars:3,consts:[[1,"marginY"],[1,"container","bg-main-light","rounded","shadow","p-3","w-75"],[3,"formGroup","ngSubmit",4,"ngIf"],[3,"formGroup","ngSubmit"],["for","email"],["formControlName","email","type","email","id","email",1,"form-control"],["class","alert alert-danger mt-2",4,"ngIf"],[1,"main-btn","mt-3"],["class","alert alert-danger w-75 mx-auto p-2 my-3",4,"ngIf"],[1,"alert","alert-danger","mt-2"],[4,"ngIf"],[1,"alert","alert-danger","w-75","mx-auto","p-2","my-3"],["for","resetCode"],["formControlName","resetCode","type","text","id","resetCode",1,"form-control"],["for","newPassword"],["formControlName","newPassword","type","password","id","newPassword",1,"form-control"]],template:function(t,n){1&t&&(e.TgZ(0,"section",0)(1,"div",1),e.YNc(2,f,8,3,"form",2),e.YNc(3,C,8,3,"form",2),e.YNc(4,v,8,3,"form",2),e.qZA()()),2&t&&(e.xp6(2),e.Q6J("ngIf",n.step1),e.xp6(1),e.Q6J("ngIf",n.step2),e.xp6(1),e.Q6J("ngIf",n.step3))},dependencies:[m.ez,m.O5,s.UX,s._Y,s.Fj,s.JJ,s.JL,s.sg,s.u]})}return o})()}}]);